<div class="container">
  <div class="container-fluid m-3 text-center ">
    <h1 class="text-uppercase">liste de tâche </h1>
  </div>


  <form class="mb-3" (ngSubmit)="onSubmit(taskForm)" #taskForm="ngForm">
    <div class="mb-3">
      <label for="tache" class="form-label">Tâche</label>
      <input
      type="text"
       class="form-control"
       id="tache"
       placeholder="saisir tâche"
       ngModel
       name="tache"
       required
       >
       @if(taskForm.invalid){
         <div id="errorMessage" class="form-text text-danger mt-2">veuillez renseigner une tâche.</div>
       }
    </div>
    <button type="submit" [disabled]="taskForm.invalid" class="btn btn-primary">Valider</button>
  </form>

  @if(taskArray.length < 1 ){

    <div class="container text-center">
      <p>vous n'avez aucune tâche à faire</p>
    </div>

  } @else {
    <div class="container-fluid">
      <table class="table text-center">
        <thead>
          <tr>
            <th scope="col">Tâche</th>
            <th scope="col">Terminés</th>
            <th scope="col">Supprimés</th>
          </tr>
        </thead>
        <tbody>

          @for(item of taskArray; track item; let i = $index ) {
            <tr>
              <td>{{item.taskName}}</td>
              <td>
                <input id="myCheckbox" (change)="onCheck(i)" class="form-check-input" type="checkbox" value="" id="flexCheckDefault">
              </td>
              <td>
                <button class="btn btn-danger" (click)="onDelete(i)" >Supprimer</button>
              </td>
            </tr>
          }

        </tbody>
      </table>
    </div>

  }



</div>

